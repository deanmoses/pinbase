# Railway platform config
# https://docs.railway.com/guides/config-as-code

[build]
dockerfilePath = "Dockerfile"
# When updating watchPatterns, also update paths-ignore in .github/workflows/ci.yml
watchPatterns = [
  "**",
  "!**/*.md",
  "!docs/**",
  "!.github/**",
  "!.claude/**",
  "!.vscode/**",
  "!.coderabbit.yaml",
  "!.pre-commit-config.yaml",
  "!.env.example",
  "!.gitignore",
  "!LICENSE",
]

[deploy]
preDeployCommand = "uv run python manage.py migrate --noinput"

healthcheckPath = "/api/health"
healthcheckTimeout = 10
